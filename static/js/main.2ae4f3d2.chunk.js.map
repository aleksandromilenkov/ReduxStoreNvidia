{"version":3,"sources":["components/Shop/ProductItem.module.css","components/UI/Notification.module.css","components/Cart/CartButton.module.css","components/UI/Card.module.css","components/Cart/Cart.module.css","components/Layout/MainHeader.module.css","components/Shop/Products.module.css","components/UI/Card.js","store/cart-slice.js","components/Cart/CartItem.js","components/Cart/Cart.js","store/ui-slice.js","components/Cart/CartButton.js","components/Layout/MainHeader.js","components/Layout/Layout.js","components/Shop/ProductItem.js","components/Shop/Products.js","components/UI/Notification.js","store/cart-actions.js","App.js","store/index.js","index.js","components/Cart/CartItem.module.css"],"names":["module","exports","Card","props","className","classes","card","children","cartSlice","createSlice","name","initialState","items","totalAmount","changed","reducers","addItem","state","action","payload","item","amount","price","isItemInCart","findIndex","id","push","removeItem","existingCartItem","find","existingCartItemIndex","splice","replaceCart","cartActions","actions","CartItem","title","quantity","dispatch","useDispatch","toFixed","itemprice","details","onClick","Cart","useSelector","cart","length","map","uiSlice","cartIsVisible","notification","toggleCart","setNotification","status","message","uiActions","CartButton","console","log","totalItems","reduce","acc","button","badge","MainHeader","header","Layout","ProductItem","description","Products","products","Notification","specialClasses","error","success","cssClasses","sendCartData","fetch","method","body","JSON","stringify","resp","ok","Error","json","data","fetchCartData","fetchData","cartData","isInitial","App","ui","useEffect","store","configureStore","reducer","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.2ae4f3d2.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"ProductItem_item__18mJ9\",\"price\":\"ProductItem_price__2UKrH\",\"actions\":\"ProductItem_actions__3n1Fu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"notification\":\"Notification_notification__1OGRt\",\"error\":\"Notification_error__2wmBv\",\"success\":\"Notification_success__3j8g-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"CartButton_button__1gvqJ\",\"badge\":\"CartButton_badge__3f_I2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__1dchm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cart\":\"Cart_cart__zuz1S\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"MainHeader_header__3HkFX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"products\":\"Products_products__1_YqY\"};","import classes from './Card.module.css';\n\nconst Card = (props) => {\n  return (\n    <section\n      className={`${classes.card} ${props.className ? props.className : ''}`}\n    >\n      {props.children}\n    </section>\n  );\n};\n\nexport default Card;\n","import { createSlice } from \"@reduxjs/toolkit\";\r\nconst cartSlice = createSlice({\r\n  name: \"cart\",\r\n  initialState: {\r\n    items: [],\r\n    totalAmount: 0,\r\n    changed: false,\r\n  },\r\n  reducers: {\r\n    addItem(state, action) {\r\n      state.changed = true;\r\n      state.totalAmount +=\r\n        action.payload.item.amount * +action.payload.item.price;\r\n      const isItemInCart = state.items.findIndex(\r\n        (item) => item.id === action.payload.item.id\r\n      );\r\n      if (isItemInCart >= 0) {\r\n        state.items[isItemInCart].amount += action.payload.item.amount;\r\n      } else {\r\n        state.items.push(action.payload.item);\r\n      }\r\n    },\r\n    removeItem(state, action) {\r\n      state.changed = true;\r\n      const existingCartItem = state.items.find(\r\n        (item) => item.id === action.payload\r\n      );\r\n      const existingCartItemIndex = state.items.findIndex(\r\n        (item) => item.id === action.payload\r\n      );\r\n      if (existingCartItem.amount === 1) {\r\n        state.items.splice(existingCartItemIndex, 1);\r\n        state.totalAmount -= existingCartItem.price;\r\n      } else {\r\n        existingCartItem.amount--;\r\n        state.totalAmount -= existingCartItem.price;\r\n      }\r\n    },\r\n    replaceCart(state, action) {\r\n      state.items = action.payload.items;\r\n      state.totalAmount = action.payload.totalAmount;\r\n    },\r\n  },\r\n});\r\n\r\nexport const cartActions = cartSlice.actions;\r\nexport default cartSlice.reducer;\r\n","import classes from \"./CartItem.module.css\";\nimport { useDispatch } from \"react-redux\";\nimport { cartActions } from \"../../store/cart-slice\";\n\nconst CartItem = (props) => {\n  const { title, quantity, price, id } = props.item;\n\n  const dispatch = useDispatch();\n  return (\n    <li className={classes.item}>\n      <header>\n        <h3>{title}</h3>\n        <div className={classes.price}>\n          ${(price * quantity).toFixed(2)}{\" \"}\n          <span className={classes.itemprice}>(${price.toFixed(2)}/item)</span>\n        </div>\n      </header>\n      <div className={classes.details}>\n        <div className={classes.quantity}>\n          x <span>{quantity}</span>\n        </div>\n        <div className={classes.actions}>\n          <button\n            onClick={() => {\n              dispatch(cartActions.removeItem(id));\n            }}\n          >\n            -\n          </button>\n          <button\n            onClick={() =>\n              dispatch(\n                cartActions.addItem({\n                  item: {\n                    amount: 1,\n                    price: price,\n                    title: title,\n                    id: id,\n                  },\n                })\n              )\n            }\n          >\n            +\n          </button>\n        </div>\n      </div>\n    </li>\n  );\n};\n\nexport default CartItem;\n","import Card from \"../UI/Card\";\nimport classes from \"./Cart.module.css\";\nimport CartItem from \"./CartItem\";\nimport { useSelector } from \"react-redux\";\nconst Cart = (props) => {\n  const items = useSelector((state) => state.cart.items);\n  return (\n    <Card className={classes.cart}>\n      <h2>Your Shopping Cart</h2>\n      {items.length <= 0 ? (\n        <p>You dont have any items in the cart, you can add some.</p>\n      ) : (\n        <ul>\n          {items.map((item) => (\n            <CartItem\n              key={item.id}\n              item={{\n                title: item.title,\n                quantity: item.amount,\n                price: item.price,\n                id: item.id,\n              }}\n            />\n          ))}\n        </ul>\n      )}\n    </Card>\n  );\n};\n\nexport default Cart;\n","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nconst uiSlice = createSlice({\r\n  name: \"ui\",\r\n  initialState: { cartIsVisible: false, notification: null },\r\n  reducers: {\r\n    toggleCart(state) {\r\n      state.cartIsVisible = !state.cartIsVisible;\r\n    },\r\n    setNotification(state, action) {\r\n      if (!action.payload) {\r\n        state.notification = null;\r\n      } else\r\n        state.notification = {\r\n          status: action.payload.status,\r\n          message: action.payload.message,\r\n          title: action.payload.title,\r\n        };\r\n    },\r\n  },\r\n});\r\n\r\nexport const uiActions = uiSlice.actions;\r\nexport default uiSlice.reducer;\r\n","import classes from \"./CartButton.module.css\";\nimport { useSelector } from \"react-redux\";\nimport { useDispatch } from \"react-redux\";\nimport { uiActions } from \"../../store/ui-slice\";\nconst CartButton = (props) => {\n  const items = useSelector((state) => state.cart.items);\n  console.log(items);\n  const totalItems = items.reduce((acc, item) => {\n    if (!item) return;\n    return acc + item.amount;\n  }, 0);\n  const dispatch = useDispatch();\n  return (\n    <button\n      className={classes.button}\n      onClick={() => {\n        dispatch(uiActions.toggleCart());\n      }}\n    >\n      <span>My Cart</span>\n      <span className={classes.badge}>{totalItems}</span>\n    </button>\n  );\n};\n\nexport default CartButton;\n","import CartButton from \"../Cart/CartButton\";\nimport classes from \"./MainHeader.module.css\";\n\nconst MainHeader = (props) => {\n  return (\n    <header className={classes.header}>\n      <h1>NVIDIA REDUX CART</h1>\n      <nav>\n        <ul>\n          <li>\n            <CartButton />\n          </li>\n        </ul>\n      </nav>\n    </header>\n  );\n};\n\nexport default MainHeader;\n","import { Fragment } from 'react';\nimport MainHeader from './MainHeader';\n\nconst Layout = (props) => {\n  return (\n    <Fragment>\n      <MainHeader />\n      <main>{props.children}</main>\n    </Fragment>\n  );\n};\n\nexport default Layout;\n","import Card from \"../UI/Card\";\nimport classes from \"./ProductItem.module.css\";\nimport { cartActions } from \"../../store/cart-slice\";\nimport { useDispatch } from \"react-redux\";\nconst ProductItem = (props) => {\n  const { title, price, description, id } = props;\n  const dispatch = useDispatch();\n  return (\n    <li className={classes.item}>\n      <Card>\n        <header>\n          <h3>{title}</h3>\n          <div className={classes.price}>${price.toFixed(2)}</div>\n        </header>\n        <p>{description}</p>\n        <div className={classes.actions}>\n          <button\n            onClick={() =>\n              dispatch(\n                cartActions.addItem({\n                  item: {\n                    amount: 1,\n                    price: price,\n                    title: title,\n                    id: id,\n                  },\n                })\n              )\n            }\n          >\n            Add to Cart\n          </button>\n        </div>\n      </Card>\n    </li>\n  );\n};\n\nexport default ProductItem;\n","import ProductItem from \"./ProductItem\";\nimport classes from \"./Products.module.css\";\n\nconst Products = (props) => {\n  return (\n    <section className={classes.products}>\n      <h2>Buy your favorite graphics cards</h2>\n      <ul>\n        <ProductItem\n          title=\"NVIDIA GeForce RTX 4090\"\n          price={1599}\n          description=\"Cooling system: Fan, Boost Clock Speed: 2.52 GHz, GPU Memory Size: 24 GB\"\n          id={0}\n        />\n        <ProductItem\n          title=\"\nNVIDIA GeForce RTX 3080\"\n          price={699}\n          description=\"Cooling System: Fan, Boost Clock Speed: 1.71 GHz,  GPU Memory Size: 10 GB\"\n          id={1}\n        />\n        <ProductItem\n          title=\"\n          NVIDIA GeForce RTX 3070\"\n          price={499}\n          description=\"Cooling System: Fan, Boost Clock Speed: 1.73 GHz, GPU Memory Size: 8 GB\"\n          id={2}\n        />\n      </ul>\n    </section>\n  );\n};\n\nexport default Products;\n","import classes from \"./Notification.module.css\";\r\n\r\nconst Notification = (props) => {\r\n  let specialClasses = \"\";\r\n\r\n  if (props.status === \"error\") {\r\n    specialClasses = classes.error;\r\n  }\r\n  if (props.status === \"success\") {\r\n    specialClasses = classes.success;\r\n  }\r\n\r\n  const cssClasses = `${classes.notification} ${specialClasses}`;\r\n\r\n  return (\r\n    <section className={cssClasses}>\r\n      <h2>{props.title}</h2>\r\n      <p>{props.message}</p>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Notification;\r\n","import { cartActions } from \"./cart-slice\";\r\nimport { uiActions } from \"./ui-slice\";\r\n// Thunk functions:\r\nexport const sendCartData = (cart) => {\r\n  return async (dispatch) => {\r\n    dispatch(\r\n      uiActions.setNotification({\r\n        status: \"pending\",\r\n        title: \"Sending\",\r\n        message: \"Sending cart data\",\r\n      })\r\n    );\r\n    try {\r\n      const resp = await fetch(\r\n        \"https://react-http-max-f7bf6-default-rtdb.firebaseio.com/cart.json\",\r\n        {\r\n          method: \"PUT\",\r\n          body: JSON.stringify(cart),\r\n        }\r\n      );\r\n      if (!resp.ok) throw new Error(\"Error occuried.\");\r\n      const data = await resp.json();\r\n      console.log(data);\r\n      dispatch(\r\n        uiActions.setNotification({\r\n          status: \"success\",\r\n          title: \"Success\",\r\n          message: \"successfully sent\",\r\n        })\r\n      );\r\n    } catch (err) {\r\n      dispatch(\r\n        uiActions.setNotification({\r\n          status: \"error\",\r\n          title: \"Error\",\r\n          message: \"data failed to send\",\r\n        })\r\n      );\r\n    }\r\n  };\r\n};\r\n\r\nexport const fetchCartData = () => {\r\n  return async (dispatch) => {\r\n    const fetchData = async () => {\r\n      const resp = await fetch(\r\n        \"https://react-http-max-f7bf6-default-rtdb.firebaseio.com/cart.json\"\r\n      );\r\n      if (!resp.ok) throw new Error(\"Error occuried.\");\r\n      const data = await resp.json();\r\n      if (!data.items) {\r\n        return { items: [], totalAmount: data.totalAmount };\r\n      }\r\n      return data;\r\n    };\r\n    try {\r\n      const cartData = await fetchData();\r\n      dispatch(cartActions.replaceCart(cartData));\r\n    } catch (err) {\r\n      dispatch(\r\n        uiActions.setNotification({\r\n          status: \"error\",\r\n          title: \"Error\",\r\n          message: \"data failed to fetch\",\r\n        })\r\n      );\r\n    }\r\n  };\r\n};\r\n","import Cart from \"./components/Cart/Cart\";\nimport Layout from \"./components/Layout/Layout\";\nimport Products from \"./components/Shop/Products\";\nimport Notification from \"./components/UI/Notification\";\nimport { useSelector } from \"react-redux\";\nimport { useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { sendCartData, fetchCartData } from \"./store/cart-actions\";\nlet isInitial = true;\nfunction App() {\n  const dispatch = useDispatch();\n  const cartIsVisible = useSelector((state) => state.ui.cartIsVisible);\n  const cart = useSelector((state) => state.cart);\n  const notification = useSelector((state) => state.ui.notification);\n  useEffect(() => {\n    dispatch(fetchCartData());\n  }, [dispatch]);\n  useEffect(() => {\n    if (isInitial) {\n      isInitial = false;\n      return;\n    }\n    if (cart.changed) dispatch(sendCartData(cart));\n  }, [cart, dispatch]);\n  console.log(\"first\");\n  return (\n    <Layout>\n      {notification && (\n        <Notification\n          title={notification.title}\n          status={notification.status}\n          message={notification.message}\n        />\n      )}\n      {cartIsVisible && <Cart />}\n      <Products />\n    </Layout>\n  );\n}\n\nexport default App;\n","import { configureStore } from \"@reduxjs/toolkit\";\r\nimport cartSlice from \"./cart-slice\";\r\nimport uiSlice from \"./ui-slice\";\r\nconst store = configureStore({\r\n  reducer: {\r\n    cart: cartSlice,\r\n    ui: uiSlice,\r\n  },\r\n});\r\n\r\nexport default store;\r\n","import ReactDOM from \"react-dom\";\n\nimport \"./index.css\";\nimport App from \"./App\";\nimport store from \"./store\";\nimport { Provider } from \"react-redux\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"CartItem_item__xIz-W\",\"details\":\"CartItem_details__2lun-\",\"quantity\":\"CartItem_quantity__3ZnHX\",\"price\":\"CartItem_price__2REBA\",\"itemprice\":\"CartItem_itemprice__3ufCo\",\"actions\":\"CartItem_actions__3WIFB\"};"],"sourceRoot":""}